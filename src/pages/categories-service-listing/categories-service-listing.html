<!--
  Generated template for the CategoriesServiceListingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <div class="back-box">
        <ion-grid no-padding>
            <ion-row no-padding>
                <ion-col col-2 (click)="goback()">
                    <p class="main icon-back"></p>
                </ion-col>
                <ion-col col-10>
                    <p [ngClass]="{'rtl_text_align':this.global_items.App_direction=='rtl'}">{{this.global_items.do_translation(head)}}</p>
                </ion-col>
            </ion-row>
        </ion-grid>

    </div>
</ion-header>

<ion-content no-padding #contentRef (ionScroll)="scrollingFun($event)">
    <ion-grid class="events-wrapper">
        <ion-row>
            <ion-col col-12>
                <ion-card let *ngFor="let item of events['data']" (click)="moveForward(item.id)">
                    <ion-row>
                        <ion-col col-5>
                            <img [src]="getImagesPath(item)" (error)="updateImageUrl($event)" alt="" class="img-responsive" style="height: 100% !important">
                        </ion-col>
                        <ion-col col-7>
                            <ion-row>
                                <p class="mains dot_style" style="font-weight: bold !important;" [ngClass]="{'rtl_text_style':this.global_items.App_direction=='rtl'}">{{item.title | removehtmltags}}</p>
                            </ion-row>
                            <ion-row>
                                <ion-col col-7 style="padding-left: 0px !important;
                                padding-right: 0px !important;">
                                    <rating [fontSize]="16" [value]="hasRating(item)" [disabled]="true">
                                    </rating>
                                </ion-col>
                                <ion-col col-5>
                                    <p>{{item.reviews}} {{this.global_items.do_translation('reviews')}}</p>
                                </ion-col>
                            </ion-row>
                            <ion-row *ngIf="this.global_items.App_direction=='ltr'">
                                <ion-col col-2>
                                    <ion-icon name="pin"></ion-icon>
                                </ion-col>
                                <ion-col col-4>
                                    <p class="dot_style">{{item.location}}</p>
                                </ion-col>
                                <ion-col col-6>
                                    <p style="color: #0091ea !important;" [ngClass]="{'text_align_left':this.global_items.App_direction=='rtl'}" (click)="Gotomap(item.latlong)">{{this.global_items.do_translation('View On Map')}}</p>
                                </ion-col>
                            </ion-row>

                            <ion-row *ngIf="this.global_items.App_direction=='rtl'">
                                <ion-col col-2>
                                    <ion-icon name="pin"></ion-icon>
                                </ion-col>
                                <ion-col col-3>
                                    <p class="dot_style">{{item.location}}</p>
                                </ion-col>
                                <ion-col col-7>
                                    <p style="color: #0091ea !important;" [ngClass]="{'text_align_left':this.global_items.App_direction=='rtl'}" (click)="Gotomap(item.latlong)">{{this.global_items.do_translation('View On Map')}}</p>
                                </ion-col>
                            </ion-row>

                            <ion-row>
                                <p class="dot_style">{{item.description}}</p>
                            </ion-row>
                            <ion-row style="font-size: 0.7em ">
                                <ion-col col-7>
                                    <ion-icon name="md-chatboxes" class="text_align_left">
                                        {{item.commentsCount}}
                                    </ion-icon>
                                </ion-col>
                                <ion-col col-5>
                                    <ion-icon name="md-eye">
                                        {{item.views}}
                                    </ion-icon>
                                </ion-col>
                            </ion-row>
                        </ion-col>
                    </ion-row>
                </ion-card>
            </ion-col>
            <ion-infinite-scroll (ionInfinite)="loadMore($event)">
                <ion-infinite-scroll-content></ion-infinite-scroll-content>
            </ion-infinite-scroll>

            <ion-col col-12 *ngIf="this.events['data'].length==0">
                <p class="empty-msg"> {{this.global_items.do_translation('No results found')}}
                </p>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>